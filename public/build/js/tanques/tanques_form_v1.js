import GetDatos from"../classes/GetData_v1.js";import PostDatos from"../classes/PostData_v1.js";(()=>{const e=document.querySelector("#nivel"),t=document.querySelector("#llegada"),o=(document.querySelector("#fecha"),document.querySelector("#tanque_id")),n=document.querySelector("#enviar-registro");let a=[];document.addEventListener("DOMContentLoaded",(function(){r(),n.addEventListener("submit",c)}));const r=async()=>{const e=`${location.origin}/tanques`;a=await GetDatos.consultar(e),s()},s=()=>{for(let t=0;t<10;t++){const o=document.createElement("OPTION");o.value=.5*t,o.textContent=.5*t,e.appendChild(o)}for(let e=0;e<=10;e++){const o=document.createElement("OPTION");o.value=10*e,o.textContent=10*e,t.appendChild(o)}a.forEach((e=>{const t=document.createElement("OPTION");t.value=e.id,t.textContent=e.nombre,o.appendChild(t)}))},c=async e=>{e.preventDefault();const t=`${location.origin}/guardar-registro`,o=n.querySelectorAll(".input-form"),a=await PostDatos.guardarDatos(t,o);"Exito"===a.tipo&&(Swal.fire({icon:"success",title:"Registro Exitoso",text:a.mensaje}),n.reset())}})();