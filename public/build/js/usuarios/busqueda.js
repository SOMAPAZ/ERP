import Modal from"../classes/Modal_v1.js";import GetDatos from"../classes/GetData_v1.js";import{limpiarHTML}from"../helpers/index_v1.js";!function(){const e=document.querySelector("#btn-buscar-usuario");let t=[],o={};function r(){o.id&&(location.href=`buscar-usuario?id=${o.id}`)}function a(e){const r=document.querySelector("#listado-coincidencias");limpiarHTML(r);const a=e.target.value.trim();if(Number.isInteger(+a)){const e=t.find((e=>e.id===a));return e?void n(e):void(o={})}if(a.length<5)return;[...t].filter((e=>`${e.id} - ${e.nombre} - ${e.direccion}`.toLowerCase().includes(a.toLowerCase()))).forEach((e=>{const t=document.createElement("LI");t.className="block bg-gray-200 text-gray-800 px-4 py-2 text-xs font-medium text-gray-700 dark:bg-gray-700 dark:text-gray-200 uppercase cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-600 rounded shadow",t.textContent=`${e.id} - ${e.nombre}`,t.onclick=()=>n(e),r.appendChild(t)}))}function n(e){const t=document.querySelector("#listado-coincidencias");limpiarHTML(t),o=e;const r=document.createElement("LI");r.className="block bg-gray-200 text-gray-800 px-4 py-2 text-xs font-medium text-gray-700 dark:bg-gray-700 dark:text-gray-200 uppercase cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-600 rounded shadow",r.textContent=`${e.id} - ${e.nombre}`,t.appendChild(r)}!async function(){const e=`${location.origin}/api/usuarios`;t=await GetDatos.consultar(e)}(),e.addEventListener("click",(function(){const e=document.createElement("BUTTON");e.className="py-2 px-5 text-sm font-medium text-white bg-indigo-600 rounded hover:bg-indigo-700",e.textContent="Ver Información",e.onclick=r;const t=document.createElement("FORM");t.autocomplete="off",t.className="flex flex-col my-4 p-3";const o=document.createElement("LABEL");o.className="block text-xs font-bold uppercase text-gray-900 dark:text-gray-400 mb-1",o.textContent="Buscar por id, nombre o dirección";const n=document.createElement("INPUT");n.className="w-full py-2 px-3 text-xs uppercase focus:outline-hidden text-gray-900 rounded border border-gray-200 dark:text-gray-400 dark:border-gray-600 bg-gray-200 dark:bg-gray-700 mb-2",n.type="text",n.id="input-buscar-usuario",n.placeholder="Buscar por id, nombre o dirección",n.oninput=a;const c=document.createElement("UL");c.className="list-none m-0 p-0 space-y-2",c.id="listado-coincidencias",t.appendChild(o),t.appendChild(n),t.appendChild(c),Modal.renderModal(t,e)}))}();