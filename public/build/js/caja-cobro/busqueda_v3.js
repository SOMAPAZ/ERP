import{limpiarHTML}from"../helpers/index_v4.js";import GetDatos from"../classes/GetData_v1.js";(()=>{const e=document.querySelector("#busqueda"),t=document.querySelector("#listado-coincidencias ul");let o=[],r=[];document.addEventListener("DOMContentLoaded",(()=>{i(),e.addEventListener("input",a)}));const i=async()=>r=await GetDatos.consultar(`${location.origin}/api/users`),a=()=>{limpiarHTML(t);const i=e.value.trim();i.length>2&&(o=[...r].filter((e=>`${e.id} - ${e.nombre} - ${e.direccion}`.toLowerCase().includes(i.toLowerCase()))),limpiarHTML(document.querySelector("#datos-usuario")),limpiarHTML(document.querySelector("#deuda-usuario")),limpiarHTML(document.querySelector("#boton")),o.map((e=>{const o=document.createElement("LI");o.className="block bg-white shadow rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 dark:bg-gray-800 dark:text-gray-200 uppercase cursor-pointer",o.textContent=`${e.id} - ${e.nombre} - ${e.direccion}`,o.onclick=()=>n(e),t.appendChild(o)})))},n=o=>{e.value=`${o.id.trim()} - ${o.nombre.trim()}`,limpiarHTML(t)}})();