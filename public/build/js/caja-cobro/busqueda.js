import{limpiarHTML}from"../helpers/funciones.js";import GetDatos from"../classes/GetData.js";(()=>{const e=document.querySelector("#busqueda"),t=document.querySelector("#listado-coincidencias ul");let r=[];document.addEventListener("DOMContentLoaded",(()=>{o(),e.addEventListener("input",i)}));const o=async()=>{r=await GetDatos.consultar(`${location.origin}/api/users`)},i=()=>{limpiarHTML(t);const o=e.value.trim();if(""===o||o.length<3)return;[...r].filter((e=>`${e.id} - ${e.nombre} - ${e.direccion}`.toLowerCase().includes(o.toLowerCase()))).forEach((e=>{const r=document.createElement("LI");r.className="block rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 dark:bg-gray-800 dark:text-gray-200 uppercase cursor-pointer",r.textContent=`${e.id} - ${e.nombre} - ${e.direccion}`,r.onclick=function(){n(e)},t.appendChild(r)}))},n=r=>{e.value=`${r.id.trim()} - ${r.nombre.trim()} - ${r.direccion.trim()}`,limpiarHTML(t)}})();