import{limpiarHTML}from"../helpers/funciones.js";import GetDatos from"../classes/GetData.js";import Alerta from"../classes/Alerta.js";import ListaCoincidencias from"../classes/ListaCoincidencias.js";(()=>{const e=document.querySelector("#busqueda"),t=document.querySelector("#listado-coincidencias ul"),r=document.querySelector("#formulario-busqueda"),o=document.querySelector("#error");let i=[];document.addEventListener("DOMContentLoaded",(()=>{n(),e.addEventListener("input",s),r.addEventListener("submit",a)}));const n=async()=>{i=await GetDatos.consultar(`${location.origin}/api/users`)},a=t=>{t.preventDefault(),""===e.value&&new Alerta({msg:"Debe ingresar un ID, Nombre o Dirección Válido",position:o})},s=()=>{limpiarHTML(t);const r=e.value.trim();if(""===r||r.length<3)return;[...i].filter((e=>`${e.id} - ${e.nombre} - ${e.direccion}`.toLowerCase().includes(r.toLowerCase()))).forEach((r=>{const o=document.createElement("LI");o.className="block rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 dark:bg-gray-800 dark:text-gray-200 uppercase cursor-pointer",o.textContent=`${r.id} - ${r.nombre} - ${r.direccion}`,o.onclick=function(){var o;o=r,e.value=`${o.id.trim()} - ${o.nombre.trim()} - ${o.direccion.trim()}`,limpiarHTML(t)},t.appendChild(o)}))}})();