import{limpiarHTML}from"../helpers/funciones.js";import GetDatos from"../classes/GetData.js";(()=>{const e=document.querySelector("#busqueda"),t=document.querySelector("#listado-coincidencias ul");let o=[],r=[];document.addEventListener("DOMContentLoaded",(()=>{n(),e.addEventListener("input",i)}));const n=async()=>r=await GetDatos.consultar(`${location.origin}/api/users`),i=()=>{limpiarHTML(t);const n=e.value.trim();n.length>2&&(o=[...r].filter((e=>`${e.id} - ${e.nombre} - ${e.direccion}`.toLowerCase().includes(n.toLowerCase()))),o.map((e=>{const o=document.createElement("LI");o.className="block rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 dark:bg-gray-800 dark:text-gray-200 uppercase cursor-pointer",o.textContent=`${e.id} - ${e.nombre} - ${e.direccion}`,o.onclick=()=>a(e),t.appendChild(o)})))},a=o=>{e.value=`${o.id.trim()} - ${o.nombre.trim()}`,limpiarHTML(t)}})();