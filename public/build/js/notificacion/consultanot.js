(()=>{document.getElementById("mostrarnot");const e=document.getElementById("idUser"),t=document.getElementById("nombreCompleto"),n=document.getElementById("direccion"),o=document.getElementById("colonia"),d=document.getElementById("zona"),a=document.getElementById("observaciones"),c=document.getElementById("mesrez"),i=document.getElementById("tdeuda"),r=document.getElementById("status"),l=document.getElementById("fregistrada"),s=document.getElementById("ffinal"),m=document.getElementById("costonot"),u=document.getElementById("fevidencia"),g=document.getElementById("comentarios"),y=document.getElementById("idempleado"),f=document.getElementById("volverbutton");document.addEventListener("DOMContentLoaded",(async()=>{!function(){const e=new URLSearchParams(window.location.search).get("id");e&&localStorage.setItem("notconsult",e)}(),await async function(){const t=localStorage.getItem("notconsult");if(!t)return;try{const o=`${location.origin}/api/notificaciones?idx=${t}`,d=await fetch(o),a=await d.json();document.querySelector("h2").textContent=`Notificación ${a.idx}`,console.log(a),u.src=`/images/${a.evidencias}`;let f=1;const E=.1,v=5,I=.2;let B=0,x=0,p=0,C=0,$=!1;const w=document.getElementById("modalImg");function n(){w.style.transform=`translate(${B}px, ${x}px) scale(${f})`}u.addEventListener("click",(()=>{const e=document.getElementById("imgModal");w.src=u.src,f=1,B=0,x=0,n(),e.style.display="flex"})),document.getElementById("closeModal").addEventListener("click",(()=>{document.getElementById("imgModal").style.display="none"})),document.getElementById("zoomIn").addEventListener("click",(()=>{f<v&&(f+=E,n())})),document.getElementById("zoomOut").addEventListener("click",(()=>{f>I&&(f-=E,n())})),w.style.cursor="grab",w.addEventListener("mousedown",(e=>{$=!0,p=e.clientX-B,C=e.clientY-x,w.style.cursor="grabbing"})),window.addEventListener("mouseup",(()=>{$=!1,w.style.cursor="grab"})),window.addEventListener("mousemove",(e=>{$&&(e.preventDefault(),B=e.clientX-p,x=e.clientY-C,n())})),console.log(u.src),e.textContent=a.id_user||"valor no definido",c.textContent=a.meses_rezagados||"valor no definido";const b=Number(a.total).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,".");i.textContent=`$ ${b}`,l.textContent=a.fecha_reporte||"valor no definido",s.textContent=a.fecha_reporte||"valor no definido";const h=Number(a.costo).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,".");m.textContent=`$ ${h}`,r.textContent=a.id_status||"valor no definido",g.textContent=a.comentarios||"",y.value=a.id_employment||""}catch(L){console.error("Error al cargar datos de notificación:",L)}}(),await async function(){const c=e.textContent.trim();if(console.log(c),!c)return;try{const e=`${location.origin}/api/usuario?id=${c}`,i=await fetch(e),r=await i.json();f.href=`/buscar-usuario?id=${c}`,t.textContent=r.user+" "+r.lastname||"valor no definido",n.textContent=r.address||"valor no definido",o.textContent=r.id_colony||"valor no definido",d.textContent=r.id_zone||"valor no definido",a.textContent=r.id_observaciones||"valor no definido"}catch(e){console.error("Error al cargar datos del usuario:",e)}}(),await async function(){const e=y.value.trim();if(console.log(e),!e)return;try{const t=`${location.origin}/api/bempleados?id=${e}`,n=await fetch(t),o=await n.json();y.textContent=`${o.name} ${o.lastname}`||"valor no definido"}catch(e){console.error("Error al cargar datos del empleado:",e)}}()}))})();