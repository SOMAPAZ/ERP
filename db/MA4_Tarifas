

-- Crear la tabla measured
CREATE TABLE measured (
  id BIGINT NOT NULL PRIMARY KEY,
  id_intaketype BIGINT,
  id_consumtype BIGINT,
  year VARCHAR(16),
  amount DECIMAL(10,2),
  iva BIGINIT,
  liminf DECIMAL(10,2),
  limsup BIGINT,
  excm3 DECIMAL(10,2),
  iva_exc BIGINIT
  
  FOREIGN KEY (id_intaketype) REFERENCES intake_type (id),
  FOREIGN KEY (id_consumtype) REFERENCES consume_type (id)
) ENGINE=InnoDB;

-- Crear la tabla services
CREATE TABLE services (
  id BIGINT NOT NULL PRIMARY KEY,
  name VARCHAR(16)
) ENGINE=InnoDB;

-- Crear la tabla service_rights
CREATE TABLE service_rights (
  id BIGINT NOT NULL PRIMARY KEY,
  id_service BIGINT,
  id_intaketype BIGINT,
  year BIGINT,
  iva BIGINIT,
  amount DECIMAL(10,2),
  FOREIGN KEY (id_service) REFERENCES services (id),
  FOREIGN KEY (id_intaketype) REFERENCES intake_type (id)
) ENGINE=InnoDB;


CREATE TABLE account (
  id bigint NOT NULL PRIMARY KEY,
  name varchar(500)
);


CREATE TABLE formats (
  id bigint NOT NULL PRIMARY KEY,
  id_account bigint,
  year bigint,
  amount decimal,
  iva bigint,
  edit bigint
);


CREATE TABLE notification (
  id bigint NOT NULL PRIMARY KEY,
  id_account bigint,
  year bigint,
  amount decimal,
  iva bigint,
  edit bigint
);


ALTER TABLE account ADD CONSTRAINT accounts_id_fk FOREIGN KEY (id) REFERENCES formats (id_account);
ALTER TABLE account ADD CONSTRAINT accounts_id_fk FOREIGN KEY (id) REFERENCES notification (id_account);
